{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zehra\\\\test-laboratuvari-yeni\\\\frontend\\\\src\\\\components\\\\ReservationModal.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5000/api\";\nconst ReservationModal = ({\n  isOpen,\n  onClose,\n  equipment,\n  user,\n  onSuccess\n}) => {\n  _s();\n  const [baslangic, setBaslangic] = useState('');\n  const [bitis, setBitis] = useState('');\n  const [mesaj, setMesaj] = useState('');\n  if (!isOpen) return null;\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMesaj('');\n\n    // Basit validasyon\n    if (new Date(baslangic) >= new Date(bitis)) {\n      setMesaj('Hata: Bitiş zamanı başlangıçtan sonra olmalı.');\n      return;\n    }\n    const rezervasyonData = {\n      EkipmanID: equipment.ekipmanID,\n      KullaniciID: user.id,\n      // Giriş yapan kullanıcının ID'si\n      BaslangicTarihi: baslangic,\n      BitisTarihi: bitis,\n      Durum: 0 // 0: Onay Bekliyor veya 1: Onaylandı (Direkt onaylı yapalım şimdilik)\n    };\n    try {\n      await axios.post(`${API_URL}/reservations`, rezervasyonData);\n      setMesaj('Başarılı! Rezervasyon oluşturuldu.');\n\n      // 1 saniye sonra modalı kapat ve listeyi yenile\n      setTimeout(() => {\n        onSuccess();\n        onClose();\n        setMesaj('');\n        setBaslangic('');\n        setBitis('');\n      }, 1000);\n    } catch (error) {\n      var _error$response;\n      console.error(\"Rezervasyon Hatası:\", error);\n      // Backend'den gelen \"Dolu\" hatasını gösterelim\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || 'Rezervasyon yapılamadı. Cihaz dolu olabilir.';\n      setMesaj(typeof errorMsg === 'string' ? errorMsg : 'Hata oluştu.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-xl w-96\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-4 text-gray-800\",\n        children: \"Rezervasyon Yap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-4\",\n        children: [\"Cihaz: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-blue-600\",\n          children: equipment.ekipmanAdi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), mesaj && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-2 mb-3 text-sm rounded ${mesaj.includes('Başarılı') ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`,\n        children: mesaj\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Ba\\u015Flang\\u0131\\xE7 Zaman\\u0131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            required: true,\n            className: \"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\",\n            value: baslangic,\n            onChange: e => setBaslangic(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Biti\\u015F Zaman\\u0131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            required: true,\n            className: \"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\",\n            value: bitis,\n            onChange: e => setBitis(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-2 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            className: \"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded\",\n            children: \"\\u0130ptal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold\",\n            children: \"Onayla\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(ReservationModal, \"rswFcVW2Iy6OTThl35ufdM3UXBU=\");\n_c = ReservationModal;\nexport default ReservationModal;\nvar _c;\n$RefreshReg$(_c, \"ReservationModal\");","map":{"version":3,"names":["axios","useState","jsxDEV","_jsxDEV","API_URL","ReservationModal","isOpen","onClose","equipment","user","onSuccess","_s","baslangic","setBaslangic","bitis","setBitis","mesaj","setMesaj","handleSubmit","e","preventDefault","Date","rezervasyonData","EkipmanID","ekipmanID","KullaniciID","id","BaslangicTarihi","BitisTarihi","Durum","post","setTimeout","error","_error$response","console","errorMsg","response","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ekipmanAdi","includes","onSubmit","type","required","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Zehra/test-laboratuvari-yeni/frontend/src/components/ReservationModal.js"],"sourcesContent":["import axios from 'axios';\nimport { useState } from 'react';\n\nconst API_URL = \"http://localhost:5000/api\";\n\nconst ReservationModal = ({ isOpen, onClose, equipment, user, onSuccess }) => {\n    const [baslangic, setBaslangic] = useState('');\n    const [bitis, setBitis] = useState('');\n    const [mesaj, setMesaj] = useState('');\n\n    if (!isOpen) return null;\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setMesaj('');\n\n        // Basit validasyon\n        if (new Date(baslangic) >= new Date(bitis)) {\n            setMesaj('Hata: Bitiş zamanı başlangıçtan sonra olmalı.');\n            return;\n        }\n\n        const rezervasyonData = {\n            EkipmanID: equipment.ekipmanID,\n            KullaniciID: user.id, // Giriş yapan kullanıcının ID'si\n            BaslangicTarihi: baslangic,\n            BitisTarihi: bitis,\n            Durum: 0 // 0: Onay Bekliyor veya 1: Onaylandı (Direkt onaylı yapalım şimdilik)\n        };\n\n        try {\n            await axios.post(`${API_URL}/reservations`, rezervasyonData);\n            setMesaj('Başarılı! Rezervasyon oluşturuldu.');\n            \n            // 1 saniye sonra modalı kapat ve listeyi yenile\n            setTimeout(() => {\n                onSuccess();\n                onClose();\n                setMesaj('');\n                setBaslangic('');\n                setBitis('');\n            }, 1000);\n\n        } catch (error) {\n            console.error(\"Rezervasyon Hatası:\", error);\n            // Backend'den gelen \"Dolu\" hatasını gösterelim\n            const errorMsg = error.response?.data || 'Rezervasyon yapılamadı. Cihaz dolu olabilir.';\n            setMesaj(typeof errorMsg === 'string' ? errorMsg : 'Hata oluştu.');\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\">\n            <div className=\"bg-white p-6 rounded-lg shadow-xl w-96\">\n                <h3 className=\"text-xl font-bold mb-4 text-gray-800\">Rezervasyon Yap</h3>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                    Cihaz: <span className=\"font-semibold text-blue-600\">{equipment.ekipmanAdi}</span>\n                </p>\n\n                {mesaj && (\n                    <div className={`p-2 mb-3 text-sm rounded ${mesaj.includes('Başarılı') ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\n                        {mesaj}\n                    </div>\n                )}\n\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Başlangıç Zamanı</label>\n                        <input \n                            type=\"datetime-local\" \n                            required\n                            className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\"\n                            value={baslangic}\n                            onChange={(e) => setBaslangic(e.target.value)}\n                        />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Bitiş Zamanı</label>\n                        <input \n                            type=\"datetime-local\" \n                            required\n                            className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\"\n                            value={bitis}\n                            onChange={(e) => setBitis(e.target.value)}\n                        />\n                    </div>\n\n                    <div className=\"flex justify-end space-x-2 mt-4\">\n                        <button \n                            type=\"button\" \n                            onClick={onClose}\n                            className=\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded\"\n                        >\n                            İptal\n                        </button>\n                        <button \n                            type=\"submit\" \n                            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold\"\n                        >\n                            Onayla\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default ReservationModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}