{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zehra\\\\test-laboratuvari-yeni\\\\frontend\\\\src\\\\components\\\\ReservationModal.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5000/api\";\nconst ReservationModal = ({\n  isOpen,\n  onClose,\n  equipment,\n  user,\n  onSuccess\n}) => {\n  _s();\n  const [baslangic, setBaslangic] = useState('');\n  const [bitis, setBitis] = useState('');\n  const [mesaj, setMesaj] = useState('');\n  if (!isOpen) return null;\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMesaj('');\n    const simdi = new Date();\n    const baslangicTarihi = new Date(baslangic);\n    const bitisTarihi = new Date(bitis);\n\n    // 1. KONTROL: Geçmişe rezervasyon yapılamaz\n    if (baslangicTarihi < simdi) {\n      setMesaj('Hata: Geçmiş bir tarihe rezervasyon yapamazsınız.');\n      return;\n    }\n\n    // 2. KONTROL: Bitiş tarihi başlangıçtan sonra olmalı\n    if (baslangicTarihi >= bitisTarihi) {\n      setMesaj('Hata: Bitiş zamanı başlangıçtan sonra olmalı.');\n      return;\n    }\n    const rezervasyonData = {\n      EkipmanID: equipment.ekipmanID,\n      KullaniciID: user.id,\n      BaslangicTarihi: baslangic,\n      BitisTarihi: bitis,\n      Durum: 0\n    };\n    try {\n      await axios.post(`${API_URL}/reservations`, rezervasyonData);\n      setMesaj('Başarılı! Rezervasyon oluşturuldu.');\n      setTimeout(() => {\n        onSuccess();\n        onClose();\n        setMesaj('');\n        setBaslangic('');\n        setBitis('');\n      }, 1000);\n    } catch (error) {\n      var _error$response;\n      console.error(\"Rezervasyon Hatası:\", error);\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || 'Rezervasyon yapılamadı. Cihaz dolu olabilir.';\n      setMesaj(typeof errorMsg === 'string' ? errorMsg : 'Hata oluştu.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-xl w-96\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-4 text-gray-800\",\n        children: \"Rezervasyon Yap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-4\",\n        children: [\"Cihaz: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-blue-600\",\n          children: equipment.ekipmanAdi\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), mesaj && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-2 mb-3 text-sm rounded ${mesaj.includes('Başarılı') ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`,\n        children: mesaj\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Ba\\u015Flang\\u0131\\xE7 Zaman\\u0131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            required: true,\n            className: \"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\",\n            value: baslangic,\n            onChange: e => setBaslangic(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Biti\\u015F Zaman\\u0131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            required: true,\n            className: \"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\",\n            value: bitis,\n            onChange: e => setBitis(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-2 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            className: \"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded\",\n            children: \"\\u0130ptal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold\",\n            children: \"Onayla\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(ReservationModal, \"rswFcVW2Iy6OTThl35ufdM3UXBU=\");\n_c = ReservationModal;\nexport default ReservationModal;\nvar _c;\n$RefreshReg$(_c, \"ReservationModal\");","map":{"version":3,"names":["axios","useState","jsxDEV","_jsxDEV","API_URL","ReservationModal","isOpen","onClose","equipment","user","onSuccess","_s","baslangic","setBaslangic","bitis","setBitis","mesaj","setMesaj","handleSubmit","e","preventDefault","simdi","Date","baslangicTarihi","bitisTarihi","rezervasyonData","EkipmanID","ekipmanID","KullaniciID","id","BaslangicTarihi","BitisTarihi","Durum","post","setTimeout","error","_error$response","console","errorMsg","response","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ekipmanAdi","includes","onSubmit","type","required","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Zehra/test-laboratuvari-yeni/frontend/src/components/ReservationModal.js"],"sourcesContent":["import axios from 'axios';\nimport { useState } from 'react';\n\nconst API_URL = \"http://localhost:5000/api\";\n\nconst ReservationModal = ({ isOpen, onClose, equipment, user, onSuccess }) => {\n    const [baslangic, setBaslangic] = useState('');\n    const [bitis, setBitis] = useState('');\n    const [mesaj, setMesaj] = useState('');\n\n    if (!isOpen) return null;\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setMesaj('');\n\n        const simdi = new Date();\n        const baslangicTarihi = new Date(baslangic);\n        const bitisTarihi = new Date(bitis);\n\n        // 1. KONTROL: Geçmişe rezervasyon yapılamaz\n        if (baslangicTarihi < simdi) {\n            setMesaj('Hata: Geçmiş bir tarihe rezervasyon yapamazsınız.');\n            return;\n        }\n\n        // 2. KONTROL: Bitiş tarihi başlangıçtan sonra olmalı\n        if (baslangicTarihi >= bitisTarihi) {\n            setMesaj('Hata: Bitiş zamanı başlangıçtan sonra olmalı.');\n            return;\n        }\n\n        const rezervasyonData = {\n            EkipmanID: equipment.ekipmanID,\n            KullaniciID: user.id,\n            BaslangicTarihi: baslangic,\n            BitisTarihi: bitis,\n            Durum: 0 \n        };\n\n        try {\n            await axios.post(`${API_URL}/reservations`, rezervasyonData);\n            setMesaj('Başarılı! Rezervasyon oluşturuldu.');\n            \n            setTimeout(() => {\n                onSuccess();\n                onClose();\n                setMesaj('');\n                setBaslangic('');\n                setBitis('');\n            }, 1000);\n\n        } catch (error) {\n            console.error(\"Rezervasyon Hatası:\", error);\n            const errorMsg = error.response?.data || 'Rezervasyon yapılamadı. Cihaz dolu olabilir.';\n            setMesaj(typeof errorMsg === 'string' ? errorMsg : 'Hata oluştu.');\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\">\n            <div className=\"bg-white p-6 rounded-lg shadow-xl w-96\">\n                <h3 className=\"text-xl font-bold mb-4 text-gray-800\">Rezervasyon Yap</h3>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                    Cihaz: <span className=\"font-semibold text-blue-600\">{equipment.ekipmanAdi}</span>\n                </p>\n\n                {mesaj && (\n                    <div className={`p-2 mb-3 text-sm rounded ${mesaj.includes('Başarılı') ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\n                        {mesaj}\n                    </div>\n                )}\n\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Başlangıç Zamanı</label>\n                        <input \n                            type=\"datetime-local\" \n                            required \n                            className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\"\n                            value={baslangic}\n                            onChange={(e) => setBaslangic(e.target.value)}\n                        />\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Bitiş Zamanı</label>\n                        <input \n                            type=\"datetime-local\" \n                            required \n                            className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500\"\n                            value={bitis}\n                            onChange={(e) => setBitis(e.target.value)}\n                        />\n                    </div>\n\n                    <div className=\"flex justify-end space-x-2 mt-4\">\n                        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded\">İptal</button>\n                        <button type=\"submit\" className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold\">Onayla</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default ReservationModal;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC,MAAM;EAAEC,OAAO;EAAEC,SAAS;EAAEC,IAAI;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EAC1E,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEtC,IAAI,CAACK,MAAM,EAAE,OAAO,IAAI;EAExB,MAAMY,YAAY,GAAG,MAAOC,CAAC,IAAK;IAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBH,QAAQ,CAAC,EAAE,CAAC;IAEZ,MAAMI,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;IACxB,MAAMC,eAAe,GAAG,IAAID,IAAI,CAACV,SAAS,CAAC;IAC3C,MAAMY,WAAW,GAAG,IAAIF,IAAI,CAACR,KAAK,CAAC;;IAEnC;IACA,IAAIS,eAAe,GAAGF,KAAK,EAAE;MACzBJ,QAAQ,CAAC,mDAAmD,CAAC;MAC7D;IACJ;;IAEA;IACA,IAAIM,eAAe,IAAIC,WAAW,EAAE;MAChCP,QAAQ,CAAC,+CAA+C,CAAC;MACzD;IACJ;IAEA,MAAMQ,eAAe,GAAG;MACpBC,SAAS,EAAElB,SAAS,CAACmB,SAAS;MAC9BC,WAAW,EAAEnB,IAAI,CAACoB,EAAE;MACpBC,eAAe,EAAElB,SAAS;MAC1BmB,WAAW,EAAEjB,KAAK;MAClBkB,KAAK,EAAE;IACX,CAAC;IAED,IAAI;MACA,MAAMhC,KAAK,CAACiC,IAAI,CAAC,GAAG7B,OAAO,eAAe,EAAEqB,eAAe,CAAC;MAC5DR,QAAQ,CAAC,oCAAoC,CAAC;MAE9CiB,UAAU,CAAC,MAAM;QACbxB,SAAS,CAAC,CAAC;QACXH,OAAO,CAAC,CAAC;QACTU,QAAQ,CAAC,EAAE,CAAC;QACZJ,YAAY,CAAC,EAAE,CAAC;QAChBE,QAAQ,CAAC,EAAE,CAAC;MAChB,CAAC,EAAE,IAAI,CAAC;IAEZ,CAAC,CAAC,OAAOoB,KAAK,EAAE;MAAA,IAAAC,eAAA;MACZC,OAAO,CAACF,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,MAAMG,QAAQ,GAAG,EAAAF,eAAA,GAAAD,KAAK,CAACI,QAAQ,cAAAH,eAAA,uBAAdA,eAAA,CAAgBI,IAAI,KAAI,8CAA8C;MACvFvB,QAAQ,CAAC,OAAOqB,QAAQ,KAAK,QAAQ,GAAGA,QAAQ,GAAG,cAAc,CAAC;IACtE;EACJ,CAAC;EAED,oBACInC,OAAA;IAAKsC,SAAS,EAAC,4EAA4E;IAAAC,QAAA,eACvFvC,OAAA;MAAKsC,SAAS,EAAC,wCAAwC;MAAAC,QAAA,gBACnDvC,OAAA;QAAIsC,SAAS,EAAC,sCAAsC;QAAAC,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzE3C,OAAA;QAAGsC,SAAS,EAAC,4BAA4B;QAAAC,QAAA,GAAC,SAC/B,eAAAvC,OAAA;UAAMsC,SAAS,EAAC,6BAA6B;UAAAC,QAAA,EAAElC,SAAS,CAACuC;QAAU;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnF,CAAC,EAEH9B,KAAK,iBACFb,OAAA;QAAKsC,SAAS,EAAE,4BAA4BzB,KAAK,CAACgC,QAAQ,CAAC,UAAU,CAAC,GAAG,6BAA6B,GAAG,yBAAyB,EAAG;QAAAN,QAAA,EAChI1B;MAAK;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACR,eAED3C,OAAA;QAAM8C,QAAQ,EAAE/B,YAAa;QAACuB,SAAS,EAAC,WAAW;QAAAC,QAAA,gBAC/CvC,OAAA;UAAAuC,QAAA,gBACIvC,OAAA;YAAOsC,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnF3C,OAAA;YACI+C,IAAI,EAAC,gBAAgB;YACrBC,QAAQ;YACRV,SAAS,EAAC,4DAA4D;YACtEW,KAAK,EAAExC,SAAU;YACjByC,QAAQ,EAAGlC,CAAC,IAAKN,YAAY,CAACM,CAAC,CAACmC,MAAM,CAACF,KAAK;UAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACN3C,OAAA;UAAAuC,QAAA,gBACIvC,OAAA;YAAOsC,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/E3C,OAAA;YACI+C,IAAI,EAAC,gBAAgB;YACrBC,QAAQ;YACRV,SAAS,EAAC,4DAA4D;YACtEW,KAAK,EAAEtC,KAAM;YACbuC,QAAQ,EAAGlC,CAAC,IAAKJ,QAAQ,CAACI,CAAC,CAACmC,MAAM,CAACF,KAAK;UAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAEN3C,OAAA;UAAKsC,SAAS,EAAC,iCAAiC;UAAAC,QAAA,gBAC5CvC,OAAA;YAAQ+C,IAAI,EAAC,QAAQ;YAACK,OAAO,EAAEhD,OAAQ;YAACkC,SAAS,EAAC,mDAAmD;YAAAC,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpH3C,OAAA;YAAQ+C,IAAI,EAAC,QAAQ;YAACT,SAAS,EAAC,sEAAsE;YAAAC,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACnC,EAAA,CAlGIN,gBAAgB;AAAAmD,EAAA,GAAhBnD,gBAAgB;AAoGtB,eAAeA,gBAAgB;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}